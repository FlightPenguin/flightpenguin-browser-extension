(()=>{var t={1633:(t,e,r)=>{var n="[object Symbol]",i="\\u0300-\\u036f\\ufe20-\\ufe23",o="[\\ud800-\\udfff]",a="["+i+"\\u20d0-\\u20f0]",u="\\ud83c[\\udffb-\\udfff]",c="[^\\ud800-\\udfff]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+a+"|"+u+")"+"?",f="[\\ufe0e\\ufe0f]?",h=f+d+("(?:\\u200d(?:"+[c,s,l].join("|")+")"+f+d+")*"),m="(?:"+[c+a+"?",a,s,l,o].join("|")+")",y=RegExp(u+"(?="+u+")|"+m+h,"g"),p=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),v="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,w="object"==typeof self&&self&&self.Object===Object&&self,g=v||w||Function("return this")();function b(t){return p.test(t)}function T(t){return b(t)?function(t){return t.match(y)||[]}(t):function(t){return t.split("")}(t)}var D=Object.prototype.toString,C=g.Symbol,x=C?C.prototype:void 0,A=x?x.toString:void 0;function F(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&D.call(t)==n}(t))return A?A.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function S(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:function(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}(t,e,r)}function k(t){return null==t?"":F(t)}var E,U=(E="toUpperCase",function(t){var e=b(t=k(t))?T(t):void 0,r=e?e[0]:t.charAt(0),n=e?S(e,1).join(""):t.slice(1);return r[E]()+n});t.exports=function(t){return U(k(t).toLowerCase())}}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(){chrome.runtime.sendMessage({event:"FOCUS_WEBPAGE"})}function e(t,e){chrome.runtime.sendMessage({event:"SUCCESSFUL_SCRAPER",searchType:e,providerName:t})}function n(t,e){chrome.runtime.sendMessage({event:"NO_FLIGHTS_FOUND",provider:t,searchType:e})}function i(t,e,r){chrome.runtime.sendMessage({event:"FAILED_SCRAPER",searchType:r,providerName:t,description:"".concat(e.name," ").concat(e.message)})}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){u=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw i}}return o}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c=/\.(?:(?:[\x2D0-9A-Z_a-z\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|\\(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+/,s=/#(?:(?:[\x2D0-9A-Z_a-z\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|\\(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))+/,l=/\[[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((?:(?:\*|[\x2D0-9A-Z_a-z]*)\|)?(?:(?:[\x2D0-9A-Z_a-z\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+))/g,d={};function f(t){var e=d[t];if(e)return e;e=d[t]={attributes:!0,subtree:!0,childList:!0};var r,n=[],i=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=a(t))){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){c=!0,o=t},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw o}}}}(t.matchAll(l));try{for(i.s();!(r=i.n()).done;){var u=o(r.value,2)[1];if(u.startsWith("*")||u.startsWith("|"))return e;n.push(u.replace("|",":"))}}catch(t){i.e(t)}finally{i.f()}return c.test(t)&&n.push("class"),s.test(t)&&n.push("id"),0===n.length?e.attributes=!1:e.attributeFilter=n,e}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.timeout,n=void 0===r?2500:r,i=e.scope,o=void 0===i?document:i;return new Promise((function(e){var r=o.querySelector(t);if(null===r){var i=null,a=new MutationObserver((function(){var r=o.querySelector(t);null!==r&&(clearTimeout(i),a.disconnect(),e(r))}));a.observe(o,f(t)),i=setTimeout((function(){a.disconnect(),e(null)}),n)}else e(r)}))}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.timeout,n=void 0===r?2500:r,i=e.scope,o=void 0===i?document:i;return new Promise((function(e){var r=null;if(null!==o.querySelector(t)){var i=new MutationObserver((function(){null===o.querySelector(t)&&(clearTimeout(r),i.disconnect(),e(!0))}));i.observe(o,f(t)),r=setTimeout((function(){i.disconnect(),e(!1)}),n)}else e(!0)}))}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&C(t,e)}function w(t){var e=D();return function(){var r,n=x(t);if(e){var i=x(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){var e="function"==typeof Map?new Map:void 0;return(b=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return T(t,arguments,x(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),C(n,t)})(t)}function T(t,e,r){return(T=D()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&C(i,r.prototype),i}).apply(null,arguments)}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function(t){v(r,t);var e=w(r);function r(t){return p(this,r),e.call(this,t)}return r}(function(t){v(r,t);var e=w(r);function r(t){var n;return p(this,r),(n=e.call(this)).message=t,n.stack=(new Error).stack,n.name=n.constructor.name,n}return r}(b(Error))),F=function(t){v(r,t);var e=w(r);function r(t){return p(this,r),e.call(this,t)}return r}(A),S=function(t){v(r,t);var e=w(r);function r(t){return p(this,r),e.call(this,t)}return r}(A),k=function(t){v(r,t);var e=w(r);function r(t){return p(this,r),e.call(this,t)}return r}(A);function E(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}function U(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){E(o,n,i,a,u,"next",t)}function u(t){E(o,n,i,a,u,"throw",t)}a(void 0)}))}}var M=function(){var t=U((function*(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document;if(r.querySelector(e)){var n=yield m(e,{timeout:t,scope:r});if(!n)throw new F("Took longer than ".concat(t," ms to make the loading indicator (").concat(e,") disappear"))}}));return function(e,r){return t.apply(this,arguments)}}(),P=function(){var t=U((function*(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document,n=r.querySelector(e);if(!n&&!(n=yield h(e,{timeout:t,scope:r})))throw new F("Render of ".concat(e," failed to complete in ").concat(t));return n}));return function(){return t.apply(this,arguments)}}(),O="button[data-icon='tool-close']",N=function(){var t=document.querySelector(O);if(!t)throw new k("Unable to find modal close element via ".concat(O));t.click()},j=function(t){return t.toLowerCase().replace(" ","").trim()},I=r(1633),R=r.n(I);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){Y=function(t,e){return new o(t,void 0,e)};var r=H(RegExp),n=RegExp.prototype,i=new WeakMap;function o(t,e,n){var o=r.call(this,t,e);return i.set(o,n||i.get(t)),o}function a(t,e){var r=i.get(e);return Object.keys(r).reduce((function(e,n){return e[n]=t[r[n]],e}),Object.create(null))}return B(o,r),o.prototype.exec=function(t){var e=n.exec.call(this,t);return e&&(e.groups=a(e,this)),e},o.prototype[Symbol.replace]=function(t,e){if("string"==typeof e){var r=i.get(this);return n[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+r[e]})))}if("function"==typeof e){var o=this;return n[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==q(t[t.length-1])&&t.push(a(t,o)),e.apply(this,t)}))}return n[Symbol.replace].call(this,t,e)},Y.apply(this,arguments)}function B(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}function H(t){var e="function"==typeof Map?new Map:void 0;return(H=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return L(t,arguments,_(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Q(n,t)})(t)}function L(t,e,r){return(L=W()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&Q(i,r.prototype),i}).apply(null,arguments)}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=function(t){var e=Y(/^([\t-\r 0-9A-Z_a-z\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+as[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+(alaska)([a-z]{1,20})$/i,{airline:1,dbaPart1:2,dbaPart2:3}),r=t;if(e.test(r)){var n=r.match(e);r="".concat(n.groups.airline," as ").concat(n.groups.dbaPart1," ").concat(R()(n.groups.dbaPart2))}return r};const X={airlineDetailsMap:{"American Airlines":{display:"American",color:"#C5423E",code:"AA"},American:{display:"American",color:"#C5423E",code:"AA"},Delta:{display:"Delta",color:"#EE722E",code:"DL"},"Delta Air Lines":{display:"Delta",color:"#EE722E",code:"DL"},WN:{display:"Southwest",color:"#F6C04D",code:"WN"},"Southwest Airlines":{display:"Southwest",color:"#F6C04D",code:"WN"},Southwest:{display:"Southwest",color:"#F6C04D",code:"WN"},United:{display:"United",color:"#235EA6",code:"UA"},"United Airlines":{display:"United",color:"#235EA6",code:"UA"},"Air Canada":{display:"Air Canada",color:"#E53222",code:"AC"},Alaska:{display:"Alaska",color:"#51172C",code:"AS"},"Alaska Airlines":{display:"Alaska",color:"#51172C",code:"AS"},jetBlue:{display:"jetBlue",color:"#5F90C8",code:"B6"},"JetBlue Airways":{display:"jetBlue",color:"#5F90C8",code:"B6"},Spirit:{display:"Spirit",color:"#BBB140",code:"NK"},"Spirit Airlines":{display:"Spirit",color:"#BBB140",code:"NK"},WestJet:{display:"WestJet",color:"#4BA89C",code:"WS"},Aeromexico:{display:"Aeromexico",color:"#000000",code:"AM"},Frontier:{display:"Frontier",color:"#378055",code:"F9"},"Frontier Airlines":{display:"Frontier",color:"#378055",code:"F9"},Interjet:{display:"Interjet",color:"#A8A8A8",code:"4O"},"Hawaiian Airlines":{display:"Hawaiian",color:"#4D388A",code:"HA"},"Sun Country":{display:"Sun Country",color:"#D79A71",code:"SY"},"Sun Country Airlines":{display:"Sun Country",color:"#D79A71",code:"SY"},"Porter Airlines":{display:"Porter",color:"#0F2B53",code:"PD"},"China Southern Airlines":{display:"China Southern",color:"#93ACCA",code:"CZ"},Lufthansa:{display:"Lufthansa",color:"#EFB95D",code:"LH"},SWISS:{display:"Swiss",color:"#D42D21",code:"LX"},"China Eastern Airlines":{display:"China Eastern",color:"#A9545F",code:"MU"},"British Airways":{display:"British",color:"#EA8E8C",code:"BA"},Iberia:{display:"Iberia",color:"#D05653",code:"IB"},"Air China":{display:"Air China",color:"#DF524B",code:"CA"},"Emirates Airlines":{display:"Emirates",color:"#CF534F",code:"EK"},"KLM-Royal Dutch Airlines":{display:"KLM",color:"#44A0DC",code:"KL"},"Air France":{display:"Air France",color:"#DB3832",code:"AF"},"Turkish Airlines":{display:"Turkish",color:"#DB3832",code:"TK"},"Cathay Pacific":{display:"Cathay",color:"#2A645A",code:"CX"},"Cathay Dragon":{display:"Cathay",color:"#2A645A",code:"CX"},"EVA Airways":{display:"EVA",color:"#6F9F64",code:"BR"},"China Airlines":{display:"China Airlines",color:"#DAABB1",code:"CI"},"ANA Airlines":{display:"ANA",color:"#254897",code:"NH"},"Japan Airlines":{display:"Japan Airlines",color:"#E56E69",code:"JL"},"Air India":{display:"Air India",color:"#D47346",code:"AI"},"Air India Limited":{display:"Air India",color:"#D47346",code:"AI"},"Qantas Airways":{display:"Qantas",color:"#E34538",code:"QF"},"Singapore Airlines":{display:"Singapore",color:"#EFA952",code:"SQ"},"ANA (All Nippon Airways)":{display:"ANA",color:"#0f4a8d"}},getAirlineName:function(t){if(t&&"string"==typeof t){var e=t.trim().replace(/\s+/g," ");e=G(e);var r=this.airlineDetailsMap[e];return r&&(e=r.display),e}},getAirlineDetails:function(t){var e=t.trim().replace(/\s+/g," ");return e=G(e),this.airlineDetailsMap[e]||{display:e,color:"#DFCCFB"}}};function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J(t,e){var r=t.toLowerCase(),n=z(r.split(":"),2),i=n[0],o=n[1];i=Number(i);var a=Number(o.replace(/(pm)|(am)|(\+\d)/g,"").trim());if(e){var u=t.match(/(\+\d)/);u&&(i+=24*u[0].split("+")[1])}return r.includes("pm")&&i%12!=0?i+=12:r.includes("am")&&i%12==0&&(i-=12),{hours:i,minutes:a}}function $(t,e,r){var n=J(t),i=n.hours,o=n.minutes,a=J(e),u=a.hours,c=a.minutes,s=e.match(/(\+\d)/),l=t.match(/(\+\d)/),d=0,f=0;if(l){var h=z(l[0].split("+"),2),m=(h[0],h[1]);f=d+=Number(m)}if(s){var y=z(s[0].split("+"),2),p=(y[0],y[1]);f+=Number(p)}var v=60*(i+24*d)+o,w=60*(u+24*f)+c;return function(t){var e,r;if(t.includes("h")){var n=z(t.split("h"),2);e=n[0],r=n[1]}else e=0,r=t;var i=r.trim().split("m")[0]||0;return Number(i)+60*Number(e)}(r)-(w-v)}function Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var V=function(){function t(e){var r=e.fromTime,n=e.toTime,i=e.operatingAirline,o=e.marketingAirline,a=e.duration,u=e.layovers;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fromTime=r,this.fromTimeDetails=this.getTimeDetails(r),this.toTime=n,this.toTimeDetails=this.getTimeDetails(n),this.duration=a,i&&(this.operatingAirline=X.getAirlineName(i),this.operatingAirlineDetails=i?X.getAirlineDetails(i):null),o&&(this.marketingAirline=X.getAirlineName(o),this.marketingAirlineDetails=o?X.getAirlineDetails(o):null),this.layovers=u,this.timezoneOffset=this.getTimezoneOffset(),this.id=this.getFlightPenguinId(),this.checkMissingExcessDays()}var e,r,n;return e=t,(r=[{key:"getTimeDetails",value:function(t){var e=J(t,!0),r=e.hours,n=e.minutes,i=t.toLowerCase().includes("pm")?"pm":"am",o=t.match(/(\+\d)/);return{hours:r,displayHours:Number(t.split(":")[0]),minutes:n,timeOfDay:i,excessDays:o?o[0]:o}}},{key:"getFlightPenguinId",value:function(){var t=this.operatingAirline?this.operatingAirline:this.marketingAirline;return"".concat(this.fromTime,"-").concat(this.toTime,"-").concat(t)}},{key:"getTimezoneOffset",value:function(){return $(this.fromTime,this.toTime,this.duration)}},{key:"checkMissingExcessDays",value:function(){var t=0;if(this.layovers.forEach((function(e){e.fromTimeDetails.excessDays&&(t+=Number(e.fromTimeDetails.excessDays.replace("+",""))),e.toTimeDetails.excessDays&&(t+=Number(e.toTimeDetails.excessDays.replace("+","")))})),t&&"+".concat(t)!==this.toTimeDetails.excessDays){this.toTimeDetails.excessDays="+".concat(t);var e=this.toTime.split("+")[0];this.toTime="".concat(e,"+").concat(t)}}}])&&Z(e.prototype,r),n&&Z(e,n),t}(),tt="[data-test-id='select-link']",et=function(t){var e=t.querySelector(tt);if(!e)throw new k("Unable to find modal open element via ".concat(tt));e.click()};function rt(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}var nt="summary",it=function(){var t,e=(t=function*(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=yield h(nt,{timeout:e});if(!r)throw new k("Unable to find collapsible open element via ".concat(nt));r.click()},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){rt(o,n,i,a,u,"next",t)}function u(t){rt(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function ot(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}var at="[data-test-id='details-and-fares']:not(:empty)",ut=function(){var t,e=(t=function*(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,e=yield h(at,{timeout:t});if(!e)throw new k("Unable to locate modal after ".concat(t," ms"));return e},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ot(o,n,i,a,u,"next",t)}function u(t){ot(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}(),ct={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function st(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width?String(e.width):t.defaultWidth,n=t.formats[r]||t.formats[t.defaultWidth];return n}}var lt={date:st({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:st({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:st({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var dt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ft(t){return function(e,r){var n,i=r||{};if("formatting"===(i.context?String(i.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,a=i.width?String(i.width):o;n=t.formattingValues[a]||t.formattingValues[o]}else{var u=t.defaultWidth,c=i.width?String(i.width):t.defaultWidth;n=t.values[c]||t.values[u]}return n[t.argumentCallback?t.argumentCallback(e):e]}}function ht(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a,u=o[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],s=Array.isArray(c)?yt(c,(function(t){return t.test(u)})):mt(c,(function(t){return t.test(u)}));a=t.valueCallback?t.valueCallback(s):s,a=r.valueCallback?r.valueCallback(a):a;var l=e.slice(u.length);return{value:a,rest:l}}}function mt(t,e){for(var r in t)if(t.hasOwnProperty(r)&&e(t[r]))return r}function yt(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return r}var pt;const vt={code:"en-US",formatDistance:function(t,e,r){var n;return r=r||{},n="string"==typeof ct[t]?ct[t]:1===e?ct[t].one:ct[t].other.replace("{{count}}",e),r.addSuffix?r.comparison>0?"in "+n:n+" ago":n},formatLong:lt,formatRelative:function(t,e,r,n){return dt[t]},localize:{ordinalNumber:function(t,e){var r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:ft({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ft({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:ft({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ft({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ft({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(pt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(pt.matchPattern);if(!r)return null;var n=r[0],i=t.match(pt.parsePattern);if(!i)return null;var o=pt.valueCallback?pt.valueCallback(i[0]):i[0];o=e.valueCallback?e.valueCallback(o):o;var a=t.slice(n.length);return{value:o,rest:a}}),era:ht({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ht({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ht({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ht({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ht({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function wt(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function gt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function bt(t){gt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):new Date(NaN)}function Tt(t,e){gt(2,arguments);var r=bt(t).getTime(),n=wt(e);return new Date(r+n)}function Dt(t,e){gt(2,arguments);var r=wt(e);return Tt(t,-r)}function Ct(t,e){if(null==t)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e=e||{})Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function xt(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function At(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}const Ft={p:At,P:function(t,e){var r,n=t.match(/(P+)(p+)?/),i=n[1],o=n[2];if(!o)return xt(t,e);switch(i){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"})}return r.replace("{{date}}",xt(i,e)).replace("{{time}}",At(o,e))}};function St(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var kt=["D","DD"],Et=["YY","YYYY"];function Ut(t){return-1!==kt.indexOf(t)}function Mt(t){return-1!==Et.indexOf(t)}function Pt(t,e,r){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}function Ot(t,e){gt(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,o=null==i?0:wt(i),a=null==r.weekStartsOn?o:wt(r.weekStartsOn);if(!(a>=0&&a<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=bt(t),c=u.getUTCDay(),s=(c<a?7:0)+c-a;return u.setUTCDate(u.getUTCDate()-s),u.setUTCHours(0,0,0,0),u}function Nt(t,e){gt(1,arguments);var r=bt(t,e),n=r.getUTCFullYear(),i=e||{},o=i.locale,a=o&&o.options&&o.options.firstWeekContainsDate,u=null==a?1:wt(a),c=null==i.firstWeekContainsDate?u:wt(i.firstWeekContainsDate);if(!(c>=1&&c<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var s=new Date(0);s.setUTCFullYear(n+1,0,c),s.setUTCHours(0,0,0,0);var l=Ot(s,e),d=new Date(0);d.setUTCFullYear(n,0,c),d.setUTCHours(0,0,0,0);var f=Ot(d,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function jt(t,e,r){gt(2,arguments);var n=r||{},i=n.locale,o=i&&i.options&&i.options.weekStartsOn,a=null==o?0:wt(o),u=null==n.weekStartsOn?a:wt(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=bt(t),s=wt(e),l=c.getUTCDay(),d=s%7,f=(d+7)%7,h=(f<u?7:0)+s-l;return c.setUTCDate(c.getUTCDate()+h),c}function It(t){gt(1,arguments);var e=1,r=bt(t),n=r.getUTCDay(),i=(n<e?7:0)+n-e;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Rt(t){gt(1,arguments);var e=bt(t),r=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=It(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=It(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function qt(t){gt(1,arguments);var e=Rt(t),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var n=It(r);return n}var Yt=6048e5;function Bt(t){gt(1,arguments);var e=bt(t),r=It(e).getTime()-qt(e).getTime();return Math.round(r/Yt)+1}function Ht(t,e){gt(1,arguments);var r=e||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,o=null==i?1:wt(i),a=null==r.firstWeekContainsDate?o:wt(r.firstWeekContainsDate),u=Nt(t,e),c=new Date(0);c.setUTCFullYear(u,0,a),c.setUTCHours(0,0,0,0);var s=Ot(c,e);return s}var Lt=6048e5;function Wt(t,e){gt(1,arguments);var r=bt(t),n=Ot(r,e).getTime()-Ht(r,e).getTime();return Math.round(n/Lt)+1}var Qt=/^(1[0-2]|0?\d)/,_t=/^(3[0-1]|[0-2]?\d)/,Gt=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Xt=/^(5[0-3]|[0-4]?\d)/,zt=/^(2[0-3]|[0-1]?\d)/,Kt=/^(2[0-4]|[0-1]?\d)/,Jt=/^(1[0-1]|0?\d)/,$t=/^(1[0-2]|0?\d)/,Zt=/^[0-5]?\d/,Vt=/^[0-5]?\d/,te=/^\d/,ee=/^\d{1,2}/,re=/^\d{1,3}/,ne=/^\d{1,4}/,ie=/^-?\d+/,oe=/^-?\d/,ae=/^-?\d{1,2}/,ue=/^-?\d{1,3}/,ce=/^-?\d{1,4}/,se=/^([+-])(\d{2})(\d{2})?|Z/,le=/^([+-])(\d{2})(\d{2})|Z/,de=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,fe=/^([+-])(\d{2}):(\d{2})|Z/,he=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function me(t,e,r){var n=e.match(t);if(!n)return null;var i=parseInt(n[0],10);return{value:r?r(i):i,rest:e.slice(n[0].length)}}function ye(t,e){var r=e.match(t);return r?"Z"===r[0]?{value:0,rest:e.slice(1)}:{value:("+"===r[1]?1:-1)*(36e5*(r[2]?parseInt(r[2],10):0)+6e4*(r[3]?parseInt(r[3],10):0)+1e3*(r[5]?parseInt(r[5],10):0)),rest:e.slice(r[0].length)}:null}function pe(t,e){return me(ie,t,e)}function ve(t,e,r){switch(t){case 1:return me(te,e,r);case 2:return me(ee,e,r);case 3:return me(re,e,r);case 4:return me(ne,e,r);default:return me(new RegExp("^\\d{1,"+t+"}"),e,r)}}function we(t,e,r){switch(t){case 1:return me(oe,e,r);case 2:return me(ae,e,r);case 3:return me(ue,e,r);case 4:return me(ce,e,r);default:return me(new RegExp("^-?\\d{1,"+t+"}"),e,r)}}function ge(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function be(t,e){var r,n=e>0,i=n?e:1-e;if(i<=50)r=t||100;else{var o=i+50;r=t+100*Math.floor(o/100)-(t>=o%100?100:0)}return n?r:1-r}var Te=[31,28,31,30,31,30,31,31,30,31,30,31],De=[31,29,31,30,31,30,31,31,30,31,30,31];function Ce(t){return t%400==0||t%4==0&&t%100!=0}const xe={G:{priority:140,parse:function(t,e,r,n){switch(e){case"G":case"GG":case"GGG":return r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"});case"GGGGG":return r.era(t,{width:"narrow"});case"GGGG":default:return r.era(t,{width:"wide"})||r.era(t,{width:"abbreviated"})||r.era(t,{width:"narrow"})}},set:function(t,e,r,n){return e.era=r,t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(t,e,r,n){var i=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return ve(4,t,i);case"yo":return r.ordinalNumber(t,{unit:"year",valueCallback:i});default:return ve(e.length,t,i)}},validate:function(t,e,r){return e.isTwoDigitYear||e.year>0},set:function(t,e,r,n){var i=t.getUTCFullYear();if(r.isTwoDigitYear){var o=be(r.year,i);return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t}var a="era"in e&&1!==e.era?1-r.year:r.year;return t.setUTCFullYear(a,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(t,e,r,n){var i=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return ve(4,t,i);case"Yo":return r.ordinalNumber(t,{unit:"year",valueCallback:i});default:return ve(e.length,t,i)}},validate:function(t,e,r){return e.isTwoDigitYear||e.year>0},set:function(t,e,r,n){var i=Nt(t,n);if(r.isTwoDigitYear){var o=be(r.year,i);return t.setUTCFullYear(o,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),Ot(t,n)}var a="era"in e&&1!==e.era?1-r.year:r.year;return t.setUTCFullYear(a,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),Ot(t,n)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(t,e,r,n){return we("R"===e?4:e.length,t)},set:function(t,e,r,n){var i=new Date(0);return i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0),It(i)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(t,e,r,n){return we("u"===e?4:e.length,t)},set:function(t,e,r,n){return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(t,e,r,n){switch(e){case"Q":case"QQ":return ve(e.length,t);case"Qo":return r.ordinalNumber(t,{unit:"quarter"});case"QQQ":return r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(t,{width:"wide",context:"formatting"})||r.quarter(t,{width:"abbreviated",context:"formatting"})||r.quarter(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=1&&e<=4},set:function(t,e,r,n){return t.setUTCMonth(3*(r-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(t,e,r,n){switch(e){case"q":case"qq":return ve(e.length,t);case"qo":return r.ordinalNumber(t,{unit:"quarter"});case"qqq":return r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(t,{width:"wide",context:"standalone"})||r.quarter(t,{width:"abbreviated",context:"standalone"})||r.quarter(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=1&&e<=4},set:function(t,e,r,n){return t.setUTCMonth(3*(r-1),1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(t,e,r,n){var i=function(t){return t-1};switch(e){case"M":return me(Qt,t,i);case"MM":return ve(2,t,i);case"Mo":return r.ordinalNumber(t,{unit:"month",valueCallback:i});case"MMM":return r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(t,{width:"wide",context:"formatting"})||r.month(t,{width:"abbreviated",context:"formatting"})||r.month(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,n){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(t,e,r,n){var i=function(t){return t-1};switch(e){case"L":return me(Qt,t,i);case"LL":return ve(2,t,i);case"Lo":return r.ordinalNumber(t,{unit:"month",valueCallback:i});case"LLL":return r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(t,{width:"wide",context:"standalone"})||r.month(t,{width:"abbreviated",context:"standalone"})||r.month(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,n){return t.setUTCMonth(r,1),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(t,e,r,n){switch(e){case"w":return me(Xt,t);case"wo":return r.ordinalNumber(t,{unit:"week"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=53},set:function(t,e,r,n){return Ot(function(t,e,r){gt(2,arguments);var n=bt(t),i=wt(e),o=Wt(n,r)-i;return n.setUTCDate(n.getUTCDate()-7*o),n}(t,r,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(t,e,r,n){switch(e){case"I":return me(Xt,t);case"Io":return r.ordinalNumber(t,{unit:"week"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=53},set:function(t,e,r,n){return It(function(t,e){gt(2,arguments);var r=bt(t),n=wt(e),i=Bt(r)-n;return r.setUTCDate(r.getUTCDate()-7*i),r}(t,r,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(t,e,r,n){switch(e){case"d":return me(_t,t);case"do":return r.ordinalNumber(t,{unit:"date"});default:return ve(e.length,t)}},validate:function(t,e,r){var n=Ce(t.getUTCFullYear()),i=t.getUTCMonth();return n?e>=1&&e<=De[i]:e>=1&&e<=Te[i]},set:function(t,e,r,n){return t.setUTCDate(r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(t,e,r,n){switch(e){case"D":case"DD":return me(Gt,t);case"Do":return r.ordinalNumber(t,{unit:"date"});default:return ve(e.length,t)}},validate:function(t,e,r){return Ce(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365},set:function(t,e,r,n){return t.setUTCMonth(0,r),t.setUTCHours(0,0,0,0),t},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(t,e,r,n){switch(e){case"E":case"EE":case"EEE":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,n){return(t=jt(t,r,n)).setUTCHours(0,0,0,0),t},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(t,e,r,n){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return ve(e.length,t,i);case"eo":return r.ordinalNumber(t,{unit:"day",valueCallback:i});case"eee":return r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeeee":return r.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return r.day(t,{width:"wide",context:"formatting"})||r.day(t,{width:"abbreviated",context:"formatting"})||r.day(t,{width:"short",context:"formatting"})||r.day(t,{width:"narrow",context:"formatting"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,n){return(t=jt(t,r,n)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(t,e,r,n){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return ve(e.length,t,i);case"co":return r.ordinalNumber(t,{unit:"day",valueCallback:i});case"ccc":return r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"ccccc":return r.day(t,{width:"narrow",context:"standalone"});case"cccccc":return r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return r.day(t,{width:"wide",context:"standalone"})||r.day(t,{width:"abbreviated",context:"standalone"})||r.day(t,{width:"short",context:"standalone"})||r.day(t,{width:"narrow",context:"standalone"})}},validate:function(t,e,r){return e>=0&&e<=6},set:function(t,e,r,n){return(t=jt(t,r,n)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(t,e,r,n){var i=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return ve(e.length,t);case"io":return r.ordinalNumber(t,{unit:"day"});case"iii":return r.day(t,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(t,{width:"short",context:"formatting",valueCallback:i})||r.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return r.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return r.day(t,{width:"short",context:"formatting",valueCallback:i})||r.day(t,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return r.day(t,{width:"wide",context:"formatting",valueCallback:i})||r.day(t,{width:"abbreviated",context:"formatting",valueCallback:i})||r.day(t,{width:"short",context:"formatting",valueCallback:i})||r.day(t,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(t,e,r){return e>=1&&e<=7},set:function(t,e,r,n){return(t=function(t,e){gt(2,arguments);var r=wt(e);r%7==0&&(r-=7);var n=1,i=bt(t),o=i.getUTCDay(),a=((r%7+7)%7<n?7:0)+r-o;return i.setUTCDate(i.getUTCDate()+a),i}(t,r,n)).setUTCHours(0,0,0,0),t},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(t,e,r,n){switch(e){case"a":case"aa":case"aaa":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,n){return t.setUTCHours(ge(r),0,0,0),t},incompatibleTokens:["b","B","H","K","k","t","T"]},b:{priority:80,parse:function(t,e,r,n){switch(e){case"b":case"bb":case"bbb":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,n){return t.setUTCHours(ge(r),0,0,0),t},incompatibleTokens:["a","B","H","K","k","t","T"]},B:{priority:80,parse:function(t,e,r,n){switch(e){case"B":case"BB":case"BBB":return r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(t,{width:"wide",context:"formatting"})||r.dayPeriod(t,{width:"abbreviated",context:"formatting"})||r.dayPeriod(t,{width:"narrow",context:"formatting"})}},set:function(t,e,r,n){return t.setUTCHours(ge(r),0,0,0),t},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(t,e,r,n){switch(e){case"h":return me($t,t);case"ho":return r.ordinalNumber(t,{unit:"hour"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=12},set:function(t,e,r,n){var i=t.getUTCHours()>=12;return i&&r<12?t.setUTCHours(r+12,0,0,0):i||12!==r?t.setUTCHours(r,0,0,0):t.setUTCHours(0,0,0,0),t},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(t,e,r,n){switch(e){case"H":return me(zt,t);case"Ho":return r.ordinalNumber(t,{unit:"hour"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=23},set:function(t,e,r,n){return t.setUTCHours(r,0,0,0),t},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(t,e,r,n){switch(e){case"K":return me(Jt,t);case"Ko":return r.ordinalNumber(t,{unit:"hour"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=11},set:function(t,e,r,n){return t.getUTCHours()>=12&&r<12?t.setUTCHours(r+12,0,0,0):t.setUTCHours(r,0,0,0),t},incompatibleTokens:["a","b","h","H","k","t","T"]},k:{priority:70,parse:function(t,e,r,n){switch(e){case"k":return me(Kt,t);case"ko":return r.ordinalNumber(t,{unit:"hour"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=1&&e<=24},set:function(t,e,r,n){var i=r<=24?r%24:r;return t.setUTCHours(i,0,0,0),t},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(t,e,r,n){switch(e){case"m":return me(Zt,t);case"mo":return r.ordinalNumber(t,{unit:"minute"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=59},set:function(t,e,r,n){return t.setUTCMinutes(r,0,0),t},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(t,e,r,n){switch(e){case"s":return me(Vt,t);case"so":return r.ordinalNumber(t,{unit:"second"});default:return ve(e.length,t)}},validate:function(t,e,r){return e>=0&&e<=59},set:function(t,e,r,n){return t.setUTCSeconds(r,0),t},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(t,e,r,n){return ve(e.length,t,(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))},set:function(t,e,r,n){return t.setUTCMilliseconds(r),t},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(t,e,r,n){switch(e){case"X":return ye(se,t);case"XX":return ye(le,t);case"XXXX":return ye(de,t);case"XXXXX":return ye(he,t);case"XXX":default:return ye(fe,t)}},set:function(t,e,r,n){return e.timestampIsSet?t:new Date(t.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(t,e,r,n){switch(e){case"x":return ye(se,t);case"xx":return ye(le,t);case"xxxx":return ye(de,t);case"xxxxx":return ye(he,t);case"xxx":default:return ye(fe,t)}},set:function(t,e,r,n){return e.timestampIsSet?t:new Date(t.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(t,e,r,n){return pe(t)},set:function(t,e,r,n){return[new Date(1e3*r),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(t,e,r,n){return pe(t)},set:function(t,e,r,n){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}};var Ae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Se=/^'([^]*?)'?$/,ke=/''/g,Ee=/\S/,Ue=/[a-zA-Z]/;function Me(t,e,r,n){gt(3,arguments);var i=String(t),o=String(e),a=n||{},u=a.locale||vt;if(!u.match)throw new RangeError("locale must contain match property");var c=u.options&&u.options.firstWeekContainsDate,s=null==c?1:wt(c),l=null==a.firstWeekContainsDate?s:wt(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=u.options&&u.options.weekStartsOn,f=null==d?0:wt(d),h=null==a.weekStartsOn?f:wt(a.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===o)return""===i?bt(r):new Date(NaN);var m,y={firstWeekContainsDate:l,weekStartsOn:h,locale:u},p=[{priority:10,subPriority:-1,set:Pe,index:0}],v=o.match(Fe).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Ft[e])(t,u.formatLong,y):t})).join("").match(Ae),w=[];for(m=0;m<v.length;m++){var g=v[m];!a.useAdditionalWeekYearTokens&&Mt(g)&&Pt(g,o,t),!a.useAdditionalDayOfYearTokens&&Ut(g)&&Pt(g,o,t);var b=g[0],T=xe[b];if(T){var D=T.incompatibleTokens;if(Array.isArray(D)){for(var C=void 0,x=0;x<w.length;x++){var A=w[x].token;if(-1!==D.indexOf(A)||A===b){C=w[x];break}}if(C)throw new RangeError("The format string mustn't contain `".concat(C.fullToken,"` and `").concat(g,"` at the same time"))}else if("*"===T.incompatibleTokens&&w.length)throw new RangeError("The format string mustn't contain `".concat(g,"` and any other token at the same time"));w.push({token:b,fullToken:g});var F=T.parse(i,g,u.match,y);if(!F)return new Date(NaN);p.push({priority:T.priority,subPriority:T.subPriority||0,set:T.set,validate:T.validate,value:F.value,index:p.length}),i=F.rest}else{if(b.match(Ue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");if("''"===g?g="'":"'"===b&&(g=Oe(g)),0!==i.indexOf(g))return new Date(NaN);i=i.slice(g.length)}}if(i.length>0&&Ee.test(i))return new Date(NaN);var S=p.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,r){return r.indexOf(t)===e})).map((function(t){return p.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),k=bt(r);if(isNaN(k))return new Date(NaN);var E=Dt(k,St(k)),U={};for(m=0;m<S.length;m++){var M=S[m];if(M.validate&&!M.validate(E,M.value,y))return new Date(NaN);var P=M.set(E,U,M.value,y);P[0]?(E=P[0],Ct(U,P[1])):E=P}return E}function Pe(t,e){if(e.timestampIsSet)return t;var r=new Date(0);return r.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),r.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),r}function Oe(t){return t.match(Se)[1].replace(ke,"'")}function Ne(t,e){gt(2,arguments);var r=bt(t),n=wt(e);if(isNaN(n))return new Date(NaN);if(!n)return r;var i=r.getDate(),o=new Date(r.getTime());o.setMonth(r.getMonth()+n+1,0);var a=o.getDate();return i>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),i),r)}function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ie(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var qe=function(){function t(e){var r=e.fromTime,n=e.toTime,i=e.from,o=e.to,a=e.operatingAirline,u=e.duration;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fromTime=r,this.fromTimeDetails=this.getTimeDetails(r),this.toTime=n,this.toTimeDetails=this.getTimeDetails(n),this.from=i,this.to=o,this.operatingAirline=a,this.duration=u,this.operatingAirlineDetails=X.getAirlineDetails(a),this.timezoneOffset=this.getTimezoneOffset()}var e,r,n;return e=t,(r=[{key:"getTimeDetails",value:function(t){var e=J(t,!0),r=e.hours,n=e.minutes,i=t.toLowerCase().includes("pm")?"pm":"am",o=t.match(/(\+\d)/);return{hours:r,displayHours:Number(t.split(":")[0]),minutes:n,timeOfDay:i,excessDays:o?o[0]:o}}},{key:"getTimezoneOffset",value:function(){return $(this.fromTime,this.toTime,this.duration)}},{key:"checkMissingExcessDays",value:function(){if(!this.toTimeDetails.excessDays){var t=je(this.duration.split(/\s+/),2),e=t[0],r=t[1],n=Number(e.replace("h","")),i=Number(r.replace("m","")),o=60*(this.fromTimeDetails.hours%24+n)+i+this.fromTimeDetails.minutes,a=Math.floor(o/1440);a&&(this.toTimeDetails.excessDays="+".concat(a),this.toTime+="+".concat(a))}}}])&&Re(e.prototype,r),n&&Re(e,n),t}();function Ye(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Be(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var He=function(t,e,r,n,i){var o=n?r.toDate:r.fromDate,a=Ke(i,o),u=Ye(t.children,3),c=u[0],s=u[1],l=u[2],d=We(c),f=Le(l,a);if(i&&ze(i,d)&&(d+="+1",f.includes("+"))){var h=f.split("+"),m=Number(h[1])-1;f="".concat(h[0],"+").concat(m)}return new qe({fromTime:d,toTime:f,from:_e(c),to:Qe(l),operatingAirline:Xe(null==s?void 0:s.children[1]),duration:Ge(null==s?void 0:s.children[0])})},Le=function(t,e){var r,n,i=null===(r=t.textContent)||void 0===r?void 0:r.split(" - ")[0].toLowerCase().replace("arrival","");if(!i)throw new S("Unable to determine arrival time for layover");if(i=j(i),null!==(n=t.textContent)&&void 0!==n&&n.toLowerCase().includes("arrives")){var o=Me(t.textContent.split(/Arrives/i).slice(-1)[0].trim(),"EEE, MMM d",new Date);o<e&&(o=function(t,e){gt(2,arguments);var r=wt(e);return Ne(t,12*r)}(o,1));var a=Math.floor((o.valueOf()-e.valueOf())/864e5);a&&(i+="+".concat(a))}return i},We=function(t){var e,r=null===(e=t.textContent)||void 0===e?void 0:e.split(" - ")[0].toLowerCase().replace("departure","");if(!r)throw new S("Unable to determine departure time for layover");return j(r)},Qe=function(t){var e,r,n,i,o,a=null===(e=t.textContent)||void 0===e?void 0:e.slice((null===(r=t.textContent)||void 0===r?void 0:r.indexOf("("))+1,null===(n=t.textContent)||void 0===n?void 0:n.indexOf(")"));3!==(null===(i=a)||void 0===i?void 0:i.length)&&(a=null===(o=t.textContent)||void 0===o?void 0:o.split("-")[1].split("Arrives")[0].trim());if(!a)throw new S("Unable to determine departure airport for layover");return a},_e=function(t){var e,r,n,i,o,a=null===(e=t.textContent)||void 0===e?void 0:e.slice((null===(r=t.textContent)||void 0===r?void 0:r.indexOf("("))+1,null===(n=t.textContent)||void 0===n?void 0:n.indexOf(")"));3!==(null===(i=a)||void 0===i?void 0:i.length)&&(a=null===(o=t.textContent)||void 0===o?void 0:o.split("-")[1].split("Arrives")[0].trim());if(!a)throw new S("Unable to determine departure airport for layover");return a},Ge=function(t){var e,r=null==t||null===(e=t.textContent)||void 0===e?void 0:e.replace("flight","").trim();if(!r)throw new S("Unable to determine duration time for layover");return r},Xe=function(t){var e,r,n=null==t||null===(e=t.textContent)||void 0===e||null===(r=e.match(/[A-z]*/g))||void 0===r?void 0:r.join(" ").trim();if(!n)throw new S("Unable to determine operating airline for layover");return n},ze=function(t,e){var r,n,i,o,a,u,c=(n=J(r=e,!0),i=n.hours,o=n.minutes,a=r.toLowerCase().match(/(pm)|(am)/)[0],u=r.match(/(\+\d)/),{hours:i,displayHours:Number(r.split(":")[0]),minutes:o,timeOfDay:a,excessDays:u?u[0]:u});return t.toTimeDetails.hours%24>c.hours%24},Ke=function(t,e){var r=Me(e,"yyyy-MM-dd",new Date);return t?function(t,e){gt(2,arguments);var r=bt(t),n=wt(e);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}(r,Number(t.toTimeDetails.excessDays||"0")):r};function Je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(t,e)||Ze(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Ze(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function Ze(t,e){if(t){if("string"==typeof t)return Ve(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ve(t,e):void 0}}function Ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tr(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}var er="[data-test-id^='journey-section']",rr=function(){var t,e=(t=function*(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=yield h(er,{timeout:e});if(!i)throw new k("Could not find ".concat(er," in modal after ").concat(e," ms"));var o=t.querySelectorAll(er);if(!o)throw new k("Could not find legs in modal");var a,u=[],c=$e(o.entries());try{for(c.s();!(a=c.n()).done;){var s=Je(a.value,2),l=(s[0],s[1]),d=He(l,0,r,n,u[u.length-1]);u.push(d)}}catch(t){c.e(t)}finally{c.f()}if(!u)throw new A("Unable to identify layovers");return u},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){tr(o,n,i,a,u,"next",t)}function u(t){tr(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}();function nr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ir(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ir(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function or(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}var ar=function(){var t,e=(t=function*(t,e,r){var n=ur(t),i=n.marketingAirline,o=n.operatingAirline,a=cr(t),u=a.departureTime,c=a.arrivalTime,s=sr(t),l=s.duration,d=s.hasStops;et(t);var f=yield ut();yield it(f);var h=d?yield rr(f,3e3,e,r):[];return new V({marketingAirline:i,operatingAirline:o,fromTime:u,toTime:c,duration:l,layovers:h})},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){or(o,n,i,a,u,"next",t)}function u(t){or(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}(),ur=function(t){var e,r,n,i=t.querySelector("[data-test-id='flight-operated']");if(!i)throw new k("Unable to lookup marketing airline");return i.childNodes.length>1?(r=i.childNodes[0],n=i.childNodes[1]):(r=i,n=null),{marketingAirline:X.getAirlineName(r.textContent),operatingAirline:n?null===(e=n.textContent)||void 0===e?void 0:e.split(/\s+operated\s+by\s+/)[1]:null}},cr=function(t){var e,r=t.querySelector("[data-test-id='arrival-time']");if(!r)throw new k("Unable to lookup flight arrival time");var n=nr((null===(e=r.textContent)||void 0===e?void 0:e.split(" - "))||[null,null],2),i=n[0],o=n[1];if(!i)throw new S("Unable to determine departure time for flight");if(!o)throw new S("Unable to determine arrival time for flight");return{arrivalTime:j(o),departureTime:j(i)}},sr=function(t){var e,r,n=t.querySelector("[data-test-id='journey-duration']");if(!n)throw new k("Unable to lookup flight duration time");var i=null===(e=n.textContent)||void 0===e?void 0:e.split("(")[0].trim(),o=!(null!==(r=n.textContent)&&void 0!==r&&r.includes("Nonstop"));if(!i)throw new S("Unable to determine duration time for flight");return{duration:i,hasStops:o}};function lr(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return dr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dr(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fr(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}function hr(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){fr(o,n,i,a,u,"next",t)}function u(t){fr(o,n,i,a,u,"throw",t)}a(void 0)}))}}var mr="[data-test-id='search-results']",yr=".uitk-loading-bar-current",pr=".uitk-progress-indicator-step-details-wrapper > a",vr="[data-test-id='loading-animation']",wr="[data-test-id='loading-more-flights']",gr="[name='showMoreButton']",br="[data-test-id='offer-listing']",Tr=function(){var t=hr((function*(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,r=arguments.length>2?arguments[2]:void 0;if(yield P(3e4,mr),t&&(yield P(3e4,pr)),yield M(e,yr),yield M(e,vr),yield M(e,wr),Dr())return[];yield Cr();var n,i=[],o=document.querySelectorAll(br),a=lr(o);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(!Fr(u)){var c=yield ar(u,r,!!t),s=null,l=null,d=null;t?(s=t,l=c,d=yield Ar(u)):(s=c,d=yield xr()),u.dataset.fpid=Sr(c),i.push({departureFlight:s,returnFlight:l,fare:d}),N()}}}catch(t){a.e(t)}finally{a.f()}return i}));return function(){return t.apply(this,arguments)}}(),Dr=function(){return!!document.querySelector(".uitk-empty-state")},Cr=function(){var t=hr((function*(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,e=document.querySelector(gr);if(e){e.click();var r=yield m(gr,{timeout:t});if(!r)throw new F("Took longer than ${loadingTimeout} ms to load the show more flight results")}}));return function(){return t.apply(this,arguments)}}(),xr=function(){var t=hr((function*(){var t=(yield ut()).querySelector("[data-test-id='fare-types-carousel'] .uitk-lockup-price");if(!t)throw new k("Unable to find fare in modal");return t.textContent}));return function(){return t.apply(this,arguments)}}(),Ar=function(){var t=hr((function*(t){var e=t.querySelector(".uitk-price-subtext");if(!e)throw new k("Unable to find fare in card");return e.textContent}));return function(e){return t.apply(this,arguments)}}(),Fr=function(t){return["bargain fare","special fare","after booking"].some((function(e){var r;return null===(r=t.textContent)||void 0===r?void 0:r.includes(e)}))},Sr=function(t){return[t.fromTime,t.toTime,t.marketingAirline].join("-")};function kr(t){return function(t){if(Array.isArray(t))return Er(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Er(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Er(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ur(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}var Mr=function(){var t,e=(t=function*(t,e){Pr();var r,n=Or(e||t);(r=n).style.border="10px solid #f2554b",r.style.borderRadius="6px",r.style.paddingTop="25px",r.style.paddingBottom="25px",r.dataset.selected="true",Nr(n)},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ur(o,n,i,a,u,"next",t)}function u(t){Ur(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),Pr=function(){var t,e=document.querySelector("[data-selected='true']");e&&((t=e).dataset.selected="false",t.style.border="",t.style.paddingTop="0px",t.style.paddingBottom="0px",t.style.borderRadius="0px")},Or=function(t){var e=document.querySelectorAll("[data-test-id='offer-listing']");if(!e)throw new A("Unable to find flights in highlighting");var r,n,i=(r=kr(e),n=t,r.find((function(t){return t.dataset.fpid===n})));if(!i)throw new k("Unable to find flight to highlight");return i},Nr=function(t){var e=window.pageYOffset+t.getBoundingClientRect().top-window.innerHeight/2;window.scrollTo({top:e,behavior:"smooth"})};function jr(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}var Ir,Rr=function(){var t,e=(t=function*(t){var e=document.querySelector("[data-fpid='".concat(t.id,"']"));if(!(e||(yield Tr(),e=document.querySelector("[data-fpid='".concat(t.id,"']")))))throw new k("Unable to lookup departure flight");et(e);var r=yield ut();qr(r)},function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){jr(o,n,i,a,u,"next",t)}function u(t){jr(o,n,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),qr=function(t){var e=t.querySelector("[data-test-id='select-button']");if(!e)throw new k("Unable to find select button");e.click()};function Yr(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}function Br(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Yr(o,n,i,a,u,"next",t)}function u(t){Yr(o,n,i,a,u,"throw",t)}a(void 0)}))}}window.Sentry.init({dsn:"https://d7f3363dd3774a64ad700b4523bcb789@o407795.ingest.sentry.io/5277451"}),chrome.runtime.onMessage.addListener(function(){var e=Br((function*(e){switch(e.event){case"BEGIN_PARSING":Ir=e.formData,yield Hr(Ir);break;case"GET_RETURN_FLIGHTS":yield Lr(e.departure);break;case"HIGHLIGHT_FLIGHT":yield Mr(e.selectedDepartureId,e.selectedReturnId),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#back-to-search";if(!document.querySelector(e)){var r=document.createElement("button");r.id="back-to-search",r.textContent="Return to FlightPenguin",r.title="Click to return to FlightPenguin and keep browsing.",r.addEventListener("click",t),document.body.append(r)}}();break;case"CLEAR_SELECTION":history.back(),chrome.runtime.sendMessage({event:"PROVIDER_READY",provider:"expedia"})}}));return function(t){return e.apply(this,arguments)}}());var Hr=function(){var t=Br((function*(t){try{var r=yield Tr(null,3e4,t);r?(!function(t,e){chrome.runtime.sendMessage({event:"FLIGHT_RESULTS_RECEIVED",flights:e,provider:t})}("expedia",r),e("expedia","DEPARTURE")):n("expedia","DEPARTURE")}catch(t){window.Sentry.captureException(t),i("expedia",t,"DEPARTURE")}}));return function(e){return t.apply(this,arguments)}}(),Lr=function(){var t=Br((function*(t){yield Rr(t);try{var r=yield Tr(t,3e4,Ir);r?(!function(t,e){chrome.runtime.sendMessage({event:"RETURN_FLIGHTS_RECEIVED",flights:e,provider:t})}("expedia",r),e("expedia","RETURN")):n("expedia","RETURN")}catch(t){window.Sentry.captureException(t),i("expedia",t,"RETURN")}}));return function(e){return t.apply(this,arguments)}}()})()})();